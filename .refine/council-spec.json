{
  "task": "You are reviewing a software specification for a Voice Chat application. The spec is at ~/dev/voice-chat/REIMAGINE.md. Read it thoroughly.\n\nThis is a personal tool for a single user (Trevor) to have real-time voice conversations with his AI assistant (Claude) from his phone or laptop. It runs on a private Tailscale network.\n\nThe app has a working V0 implementation (vanilla JS web app at ~/dev/voice-chat/index.html with a bridge server at ~/dev/voice-chat/bridge.js). The spec (REIMAGINE.md) describes the target V1 architecture.\n\nPrior review rounds identified these accepted changes that need to be incorporated:\n1. Binary TTS frames instead of base64 JSON (perf win)\n2. Echo-aware barge-in gating (~200ms + energy check to prevent TTS self-trigger)\n3. Rolling-window STT for Parakeet (re-decode every 300-700ms on last 4-8s audio)\n4. expo-av deprecated → use expo-audio\n5. Phrase-level TTS chunker instead of naive sentence splitting\n\nKey context:\n- React Native IS needed (background audio on iOS when screen locked/app backgrounded)\n- Web version is the working dev/desktop target, RN is the mobile target\n- This is NOT a product for sale — it's a personal tool on a private network\n- Don't suggest 'production at scale' patterns (observability, multi-user, security hardening)\n- Focus on: correctness, feasibility, missing implementation details, UX quality, and keeping scope tight for a solo developer\n\nYour job: Review the spec and produce a plan for what changes/improvements should be made. Focus on things that actually matter for implementation quality. Be specific and actionable.",
  "constraints": [
    "Read ~/dev/voice-chat/REIMAGINE.md thoroughly before reviewing.",
    "Also skim ~/dev/voice-chat/index.html and ~/dev/voice-chat/bridge.js to understand the working V0.",
    "Focus on implementation feasibility and developer experience, not enterprise concerns.",
    "Be specific: cite sections, propose concrete changes, explain why.",
    "Keep suggestions proportional to a solo developer building a personal tool."
  ],
  "repo_context": {
    "root": "~/dev/voice-chat",
    "paths": [
      "REIMAGINE.md",
      "index.html",
      "bridge.js"
    ],
    "notes": "The spec is REIMAGINE.md. SPEC.md is the old V0 spec (ignore it). index.html + bridge.js are the working V0 implementation."
  },
  "agents": {
    "planners": [
      {
        "name": "opus-46",
        "kind": "claude",
        "model": "claude-opus-4-6"
      },
      {
        "name": "codex-53",
        "kind": "codex",
        "model": "gpt-5.3-codex",
        "reasoning_effort": "xhigh"
      },
      {
        "name": "gemini-3-pro",
        "kind": "custom",
        "command": "bash /Users/clawd/dev/voice-chat/.refine/gemini-prompt.sh",
        "prompt_mode": "stdin"
      }
    ],
    "judge": {
      "name": "opus-judge",
      "kind": "claude",
      "model": "claude-opus-4-6"
    }
  }
}
